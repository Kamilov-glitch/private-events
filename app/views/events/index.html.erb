<section class="section">
  <div class="container">
    <h1 class="title is-2">Events</h1>
    <div class="columns">
      <div class="column">
        <h3 class="title is-4">These are the past events:</h3>
        <% Event.past_events.each do |event| %>
          <div class="box">
            <article class="media">
              <div class="media-content">
                <div class="content">
                  <p>
                    <strong><%= event.creator.name %></strong>
                    <small><% event.creator.username %></small>
                    <br />
                    <%= event.content %>
                  </p>
                </div>
                <% if current_user == event.creator %>
                  <nav class="level is-mobile">
                    <div class="level-left">
                      <%= link_to event, class: "level-item" do %>
                        <span class="icon-text has-text-warning">
                          <span class="icon"><i class="fas fa-eye"></i></span>
                          <span>Show</span>
                        </span>
                      <% end %>
                      <%= link_to edit_event_path(event), class: "level-item" do %>
                        <span class="icon-text has-text-warning">
                          <span class="icon"><i class="fas fa-wrench"></i></span>
                          <span>Edit</span>
                        </span>
                      <% end %>
                      <%= link_to event, method: :delete, data: { confirm: "Are you sure?" }, class: "level-item" do %>
                        <span class="icon-text has-text-warning">
                          <span class="icon"><i class="fas fa-trash"></i></span>
                          <span>Delete</span>
                        </span>
                      <% end %>
                    </div>
                  </nav>
                <% end %>
              </div>
            </article>
          </div>
        <% end %>
      </div>
      <div class="column">
        <h3 class="title is-4">These are the upcoming events:</h3>
        <% Event.upcoming_events.each do |event| %>
          <div class="box">
            <article class="media">
              <div class="media-content">
                <div class="content">
                  <p>
                    <strong><%= event.creator.name %></strong>
                    <small><% event.creator.username %></small>
                    <br />
                    <%= event.content %>
                  </p>
                </div>
                <% if current_user == event.creator %>
                  <nav class="level is-mobile">
                    <div class="level-left">
                      <%= link_to event, class: "level-item" do %>
                        <span class="icon-text has-text-warning">
                          <span class="icon"><i class="fas fa-eye"></i></span>
                          <span>Show</span>
                        </span>
                      <% end %>
                      <%= link_to edit_event_path(event), class: "level-item" do %>
                        <span class="icon-text has-text-warning">
                          <span class="icon"><i class="fas fa-wrench"></i></span>
                          <span>Edit</span>
                        </span>
                      <% end %>
                      <%= link_to event, method: :delete, data: { confirm: "Are you sure?" }, class: "level-item" do %>
                        <span class="icon-text has-text-warning">
                          <span class="icon"><i class="fas fa-trash"></i></span>
                          <span>Delete</span>
                        </span>
                      <% end %>
                    </div>
                  </nav>
                <% end %>
              </div>
            </article>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</section>



<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Date</th>
      <th>Place</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% Event.past_events.each do |event| %>
      <tr>
        <td><%= event.name %></td>
        <td><%= event.date %></td>
        <td><%= event.place %></td>
        <td><%= link_to 'Show', event %></td>
        <td><%= link_to 'Edit', edit_event_path(event) %></td>
        <td><%= link_to 'Destroy', event, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody> 
</table>
<br/>

<p>This are the upcoming events</p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Date</th>
      <th>Place</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% Event.upcoming_events.each do |event| %>
      <tr>
        <td><%= event.name %></td>
        <td><%= event.date %></td>
        <td><%= event.place %></td>
        <td><%= link_to 'Show', event %></td>
        <td><%= link_to 'Edit', edit_event_path(event) %></td>
        <td><%= link_to 'Destroy', event, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>  
</table>

<br>

<%= link_to 'New Event', new_event_path %>

